@model IEnumerable<Medicard.Services.ViewModels.Doctor.AllDoctorsViewModel>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<Medicard.Domain.Entities.User> SignInManager
@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer Localizer

<nav class="navbar navbar-light bg-white justify-content-between">
 <div class="container-fluid">
<form asp-action="AllDoctors" method="get" class="d-flex" role="search">
        <p>
            @Localizer["FindByName"] <input type="text" name="Search" value="@ViewData["CurrentFilter"]" />
            <input type="submit" value=@Localizer["Search"] class="btn btn-outline-success" /> 
        </p>
</form>
</div>
</nav>

<div class="row offset-md-1">

    @foreach(var doctor in Model)
    {
        <div class="col-md-3 m-4">
            <div class="card" style="width: 15rem;">
                <img class="card-img-top" src="~/images/@doctor.Image" alt="Card image" height="260" width="210">
                
                <div class="card-body text-center">
                    <h5 class="card-title text-center">@doctor.FullName</h5>
                    <p class="card-text text-center">@doctor.Specialization</p>
                    <a href="tel:@doctor.ContactNumber">@doctor.ContactNumber</a>
                     @if (SignInManager.IsSignedIn(this.User))
                     {
                        <a asp-controller="Chat" asp-action="PrivateMessage" asp-route-user="@doctor.UserName" class="btn btn-info">message</a>
                     }
                </div>
            </div>
        </div>

    }

</div>